# 🔄 FactChecker 앱 프롬프트 체인 설계도
> 실시간 미디어 콘텐츠의 진위 여부를 자동으로 검증하고 AR로 시각화하는 앱

## 📋 목표 정의 및 사용자 프로파일링
- **핵심 목표**: 실시간 미디어 콘텐츠(뉴스, 영상, 오디오)의 사실 주장을 자동으로 감지하고 검증하여 AR 인터페이스로 시각화
- **사용자 프로필**: 
  - **숙련도**: 중급 (일반적인 디지털 리터러시를 갖춘 사용자)
  - **배경 지식**: 뉴스와 미디어에 관심이 있는 일반 대중, 팩트체커, 저널리스트
  - **기대 사항**: 실시간 허위정보 식별, 주장의 신뢰성 평가, 정보 소스 검증
- **예상 결과물**: 웹 브라우저 확장 프로그램 형태의 AR 시각화 인터페이스
- **성공 평가 지표**: 
  - 주장 감지 정확도 85% 이상
  - 0.8초 이내 실시간 검증 결과 표시
  - 사용자 만족도 4.0/5.0 이상

## 🔗 체인 유형 선택
- **선택한 체인 유형**: 분기 체인 + 병렬 체인 조합
  - **분기 체인**: 콘텐츠 유형, 언어, 주장 유형에 따른 조건부 경로
  - **병렬 체인**: 다중 데이터 소스 동시 쿼리 및 결과 통합
- **선택 이유**: 실시간 처리 요구와 다양한 데이터 소스 활용 필요성 충족
- **참조 사례**: Factiverse Live의 2024 미국 대선 실시간 팩트체킹 시스템

## 📑 단계별 프롬프트 설계

### 1️⃣ 콘텐츠 인식 및 전처리
```
[맥락 설정]
- 배경: 실시간 웹 콘텐츠(뉴스, 영상, 오디오)를 인식하고 처리하는 첫 단계
- 중요성: 정확한 전처리가 후속 단계의 정확도에 결정적 영향을 미침

[지시사항]
- 주요 작업: 
  1. 미디어 콘텐츠 캡처 (비디오 스트림 60fps)
  2. ASR(자동 음성 인식)을 통한 텍스트 변환
  3. 텍스트 정규화 및 정제
- 세부 지침:
  - Google AI Studio Stream Realtime 활용하여 초당 60프레임 분석
  - 다중 언어 지원 (우선순위: 한국어, 영어)
  - 화자 구분 및 시간 코드 부여

[입력 형식]
- 데이터 형태: 웹 브라우저 탭에서 재생 중인 미디어 스트림
- 입력 예시: 유튜브 뉴스 채널 생중계, 팟캐스트 오디오 등

[출력 형식]
- 구조: {
    "text": "정제된 트랜스크립트",
    "timecodes": [시작시간, 종료시간],
    "speaker": "화자 식별 정보(가능시)",
    "language": "감지된 언어",
    "confidence": 인식 신뢰도
  }
- 스타일: JSON 형식의 구조화된 데이터
- 출력 예시: {
    "text": "올해 실업률은 전년 대비 3% 감소했습니다.",
    "timecodes": [124.5, 128.2],
    "speaker": "앵커1",
    "language": "ko",
    "confidence": 0.92
  }

[제약 조건]
- 실시간 처리 필요 (처리 지연 100ms 이내)
- 배경 노이즈에도 강건한 음성 인식 필요
- 방언, 억양 등 다양한 발화 스타일 대응
```

### 2️⃣ 주장 감지 및 분류
```
[맥락 설정]
- 배경: 트랜스크립트에서 사실 확인이 필요한 검증 가능한 주장을 식별
- 이전 단계와의 연결: 전처리된 텍스트 트랜스크립트를 입력으로 사용

[지시사항]
- 주요 작업:
  1. 주장 감지 알고리즘 적용 (정치/경제/사회 분야별 150개 이상 패턴)
  2. 주장 유형 분류 (통계적, 역사적, 인용 등)
  3. 검증 우선순위 지정
- 세부 지침:
  - 문장 단위 분석 및 맥락 이해를 통한 암시적 주장 포착
  - 중요도 및 논쟁성 기준 우선순위 산정
  - 핵심 지표/수치를 포함한 주장 우선 감지

[입력 형식]
- 데이터 형태: 1단계에서 생성된 정제된 텍스트 트랜스크립트
- 입력 예시: {
    "text": "올해 실업률은 전년 대비 3% 감소했습니다.",
    "timecodes": [124.5, 128.2],
    "speaker": "앵커1",
    "language": "ko",
    "confidence": 0.92
  }

[출력 형식]
- 구조: {
    "claim_id": "고유 식별자",
    "claim_text": "주장 텍스트",
    "claim_type": "주장 유형",
    "timecodes": [시작시간, 종료시간],
    "speaker": "화자 정보",
    "priority": 우선순위 점수,
    "entities": ["주장 내 핵심 개체"]
  }
- 스타일: JSON 형식의 구조화된 데이터
- 출력 예시: {
    "claim_id": "claim_20240319_123",
    "claim_text": "올해 실업률은 전년 대비 3% 감소",
    "claim_type": "통계적_주장",
    "timecodes": [124.5, 128.2],
    "speaker": "앵커1",
    "priority": 8.5,
    "entities": ["실업률", "3%", "감소"]
  }

[제약 조건]
- 높은 정확도 요구 (오탐지율 15% 이하)
- 실시간 처리 유지 (처리 시간 0.3초 이내)
- 맥락 이해를 통한 함축적 주장 파악 능력
```

### 3️⃣ 다중 소스 팩트체크
```
[맥락 설정]
- 배경: 식별된 주장의 사실 여부를 다양한 신뢰할 수 있는 소스로 검증
- 이전 단계와의 연결: 2단계에서 생성된 검증 대상 주장 목록 활용

[지시사항]
- 주요 작업:
  1. 다중 API 병렬 호출 (빅카인즈, Factiverse Live, Google Fact Check)
  2. 결과 통합 및 가중치 부여
  3. 종합 신뢰도 지수 계산
  4. 관련 맥락 정보 수집
- 세부 지침:
  - 주장 유형별 최적 데이터 소스 선택적 활용
  - 국내 주장은 빅카인즈 API 가중치 증가
  - 글로벌 주장은 Factiverse/Google 가중치 증가
  - 5W1H 기반 맥락 타임라인 구성

[입력 형식]
- 데이터 형태: 2단계에서 생성된 주장 객체 배열
- 입력 예시: [{
    "claim_id": "claim_20240319_123",
    "claim_text": "올해 실업률은 전년 대비 3% 감소",
    "claim_type": "통계적_주장",
    "timecodes": [124.5, 128.2],
    "speaker": "앵커1",
    "priority": 8.5,
    "entities": ["실업률", "3%", "감소"]
  }]

[출력 형식]
- 구조: {
    "claim_id": "고유 식별자",
    "verification_result": {
      "truth_score": 0-100점 신뢰도,
      "verdict": "검증 결론",
      "sources": [
        {"name": "소스명", "url": "소스URL", "credibility": 신뢰도}
      ],
      "context_timeline": [관련 시간순 이벤트 배열],
      "contrary_claims": [반대 주장 배열]
    }
  }
- 스타일: JSON 형식의 구조화된 데이터
- 출력 예시: {
    "claim_id": "claim_20240319_123",
    "verification_result": {
      "truth_score": 89.7,
      "verdict": "부분적으로 사실",
      "sources": [
        {"name": "통계청", "url": "stats.go.kr/data/...", "credibility": 0.95},
        {"name": "한국경제", "url": "news.com/article/...", "credibility": 0.82}
      ],
      "context_timeline": [
        {"date": "2023-03", "event": "실업률 4.2% 기록"},
        {"date": "2024-03", "event": "실업률 1.3% 감소 (실제)"}
      ],
      "contrary_claims": [
        {"text": "실업률 통계는 비경제활동인구 증가로 왜곡", "source": "경제학자 인터뷰"}
      ]
    }
  }

[제약 조건]
- 실시간 처리 (전체 검증 시간 2초 이내)
- 최소 3개 이상의 독립 소스 확인
- 소스 신뢰도 함께 제공
- 한국어 주장은 한국 소스 우선 활용
```

### 4️⃣ AR 시각화 및 사용자 인터페이스
```
[맥락 설정]
- 배경: 검증 결과를 직관적이고 비침습적인 AR 인터페이스로 시각화
- 이전 단계와의 연결: 3단계에서 생성된 검증 결과 데이터 활용

[지시사항]
- 주요 작업:
  1. WebXR 기반 AR 오버레이 생성
  2. 신뢰도 수준별 시각적 표현
  3. 콘텐츠와 동기화된 타임라인 인터페이스
  4. 사용자 상호작용 기능 구현
- 세부 지침:
  - 신뢰도에 따른 색상 코드 (녹색: 사실, 노란색: 부분적 사실, 빨간색: 허위)
  - 주요 주장 발생 시 0.8초 내 AR 팝업 표시
  - 사용자 터치/클릭으로 세부 정보 확장 가능
  - '이 주장 검증 요청' 버튼 제공

[입력 형식]
- 데이터 형태: 3단계에서 생성된 검증 결과 객체 배열
- 입력 예시: [검증 결과 객체]

[출력 형식]
- 구조: WebXR 기반 AR 인터페이스 렌더링
- 스타일:
  - 비침습적 오버레이 (반투명, 최소화 가능)
  - 색상 코딩된 신뢰도 표시
  - 확장 가능한 세부 정보 패널
  - 사용자 피드백/신고 버튼
- 출력 예시: 영상 위에 "올해 실업률 3% 감소" 주장에 대해 황색 표시와 함께 "부분적으로 사실 (실제 1.3% 감소)" 정보 표시

[제약 조건]
- 비침습적 디자인 (주요 콘텐츠 시청 방해 최소화)
- 직관적인 UX/UI (복잡한 정보를 단순화)
- 다양한 기기 및 브라우저 호환성
- 시각적 주의 분산 최소화
```

## 🔄 체인 연결 및 흐름 설계
- **흐름 패턴**: 분기 + 병렬 조합
- **단계 간 데이터 전달 방식**:
  ```
  콘텐츠 인식 및 전처리 ➡️ 트랜스크립트 데이터 ➡️ 주장 감지 및 분류
  주장 감지 및 분류 ➡️ 검증 대상 주장 목록 ➡️ 다중 소스 팩트체크 (병렬 처리)
  다중 소스 팩트체크 ➡️ 검증 결과 데이터 ➡️ AR 시각화 및 사용자 인터페이스
  ```
- **분기 조건**:
  - 콘텐츠 유형 (오디오/비디오/텍스트) ➡️ 적절한 전처리 방식 선택
  - 언어 감지 (한국어/영어/기타) ➡️ 적절한 언어 모델 및 데이터 소스 선택
  - 주장 유형 (통계/역사/인용 등) ➡️ 최적의 검증 소스 선택
- **병렬 처리**:
  - 다중 API 동시 호출: 빅카인즈 API, Factiverse Live API, Google Fact Check Explorer
  - 결과 통합: 소스별 가중치 적용 및 종합 신뢰도 계산
- **반복 메커니즘**:
  - 사용자 피드백 기반 모델 개선
  - 오탐지 패턴 학습을 통한 주장 감지 알고리즘 최적화

## 🔍 검증 및 개선 메커니즘
- **결과물 검증 방식**:
  - **정확도 평가**: 전문가 팩트체커의 수동 검증과 자동화 결과 비교
  - **사용자 피드백**: '이 주장 검증 요청' 버튼을 통한 크라우드소싱 검증
  - **성능 모니터링**: 처리 시간, 정확도, 재현율 등 주요 지표 추적
- **피드백 통합 프로세스**:
  - 피드백 수집 지점: AR 인터페이스 내 피드백 기능
  - 피드백 반영 메커니즘: 주간 모델 업데이트 및 알고리즘 조정
- **자기 수정 메커니즘**:
  - 오류 감지 로직: 다수 사용자가 이의 제기한 검증 결과 모니터링
  - 수정 프로세스: 반복적 오탐지 패턴 분석 및 알고리즘 조정
- **반복적 개선 계획**:
  - 평가 주기: 주간 정확도 평가 및 월간 대규모 업데이트
  - 개선 프로세스: 사용자 행동 데이터와 피드백 기반 모델 최적화

## 📚 참고 자료 및 기술 실행 로드맵
- **관련 기술 동향**:
  - 2024년 핵심 트렌드: AI와 XR의 결합, 실시간 팩트체킹
  - WebXR 기술 발전: 크로스 플랫폼 AR 경험 단순화
  - 한국어 팩트체크 기술 발전: 실시간 토론 분석 및 검증
- **기술 실행 로드맵**:
  - **1단계(6개월)**: 
    - 크롬 확장프로그램 베타 출시(유튜브, 네이버TV, 카카오TV 연동)
    - 빅카인즈 기본 데이터 파이프라인 구축
  - **2단계(12개월)**:
    - WebXR 기반 AR 인터페이스 고도화
    - Factiverse/Google FactCheck Tools 멀티API 병렬 처리 시스템 구축
  - **3단계(18개월)**:
    - AI 생성 콘텐츠 감지 모듈 추가(GAN 생성 영상 식별)
    - 방송사 실시간 자막 연동 상용화
- **차별화 서비스 기능**:
  - **콘텐츠 신뢰도 지수**: 주장별 정확도 수치화(0~100점)
  - **다층적 정보 제공**: 맥락 타임라인, 출처 신뢰도, 대조 보도 동시 제공
  - **실시간 반응형 피드백**: 주요 주장 발생 시 0.8초 내 AR 팝업 표시
  - **개인화 학습 시스템**: 사용자별 관심사 기반 필터링
  - **기업용 API 제공**: 방송사, 미디어, 금융기관용 솔루션

## 📝 최종 권장 사항 및 구현 가이드
1. **핵심 데이터 파이프라인 우선 구축**:
   - 빅카인즈 API 연동을 최우선으로 구현하여 한국어 팩트체킹 강점 확보
   - 글로벌 데이터 소스는 단계적으로 추가하여 복잡성 관리

2. **사용자 경험 최적화**:
   - 비침습적 AR 인터페이스로 콘텐츠 소비 경험 방해 최소화
   - 직관적인 색상 코딩 및 심볼 활용으로 복잡한 정보 단순화

3. **확장성 고려**:
   - 다양한 미디어 플랫폼 지원을 위한 모듈식 아키텍처 설계
   - API 기반 B2B 서비스 확장을 고려한 인프라 구축

4. **차별화 요소 강화**:
   - 실시간 처리 속도 (업계 평균 2.1초 대비 0.8초)
   - 다층적 정보 제공 (단순 진위 판단을 넘어 맥락 정보 제공)
   - 한국어 특화 검증 (빅카인즈 API 활용)

이 설계는 AI 시대 뉴스빅데이터 활용성 강화라는 공모전 취지에 부합하며, 실제 검증된 기술들의 조합을 통해 실행 가능성을 확보했습니다. 특히 빅카인즈 API를 핵심 인프라로 활용하면서 글로벌 팩트체크 시스템과의 연동을 제안하는 점이 핵심 차별화 요소입니다.